# v0.8.0

Thank you to everyone for trying Vela! This new release contains bug fixes, enhancements to existing features and new features!

## Breaking Changes to Secrets

Several consumers have experienced and reported issues when attempting to use multi-line secrets in Vela.

In order to account for this gap in expected behavior, we've decided to take an opinionated approach of adapting Vela to these expectations.

Going forward, after the secret has been read from the system, Vela will attempt to preserve newlines (`\n`) before injecting secrets into a container.

## Features

* enabling `services` to be used inside a Vela pipeline template https://github.com/go-vela/community/issues/195
* enabling `secrets` to be used inside a Vela pipeline template https://github.com/go-vela/community/issues/194
* allow incrementing the `counter` for a repository which controls the build number sequence [PR](https://github.com/go-vela/ui/pull/404) [PR](https://github.com/go-vela/server/pull/393) [PR](https://github.com/go-vela/cli/pull/234) [PR](https://github.com/go-vela/types/pull/176)
* adding HTML input sanitization for data stored in Vela [PR](https://github.com/go-vela/types/pull/166)

## Enhancements

* encrypting sensitive fields in the `repos` database table [PR](https://github.com/go-vela/types/pull/163)
* encrypting sensitive fields in the `users` database table [PR](https://github.com/go-vela/types/pull/164)
* improve UI page title naming [PR](https://github.com/go-vela/ui/pull/394)

## Bug Fixes

* enable running `steps` with the `comment` used in a `ruleset` [PR](https://github.com/go-vela/types/pull/175)
* remove unset environment variables referencing the `finished` timestamp for a resource [PR](https://github.com/go-vela/types/pull/172)
  * `BUILD_FINISHED`
  * `VELA_BUILD_FINISHED`
  * `VELA_SERVICE_FINISHED`
  * `VELA_STEP_FINISHED`
* prevent CLI from panicking when server is unreachable [PR](https://github.com/go-vela/cli/pull/236) [PR](https://github.com/go-vela/sdk-go/pull/102)
* preserve newlines (`\n`) in secret values before injecting into the container [PR](https://github.com/go-vela/pkg-executor/pull/157)
* CLI doesn't require secret `value` when updating an existing secret [PR](https://github.com/go-vela/cli/pull/228)
* populate `VELA_BUILD_ENQUEUED` environment variable [PR](https://github.com/go-vela/server/pull/352)
* UI fields are right aligned in recent build history tool tip [PR](https://github.com/go-vela/ui/pull/389)
* use proper default values for UI timestamp fields in recent build history tool tip [PR](https://github.com/go-vela/ui/pull/388)

## For Vela Administrators

* When upgrading from `v0.7`, please take note of the [migration information](/migrations/v0.8/README.md)

## Full release notes available on [github.com/go-vela](https://github.com/go-vela)

* [go-vela/ui](https://github.com/go-vela/ui/releases)
* [go-vela/cli](https://github.com/go-vela/cli/releases)
* [go-vela/server](https://github.com/go-vela/server/releases)
* [go-vela/worker](https://github.com/go-vela/worker/releases)
* [go-vela/types](https://github.com/go-vela/types/releases)
* [go-vela/mock](https://github.com/go-vela/mock/releases)
* [go-vela/compiler](https://github.com/go-vela/compiler/releases)
* [go-vela/sdk-go](https://github.com/go-vela/sdk-go/releases)
* [go-vela/pkg-runtime](https://github.com/go-vela/pkg-runtime/releases)
* [go-vela/pkg-executor](https://github.com/go-vela/pkg-executor/releases)
* [go-vela/pkg-queue](https://github.com/go-vela/pkg-queue/releases)